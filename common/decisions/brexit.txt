brexit_decisions = {
	
	brexit_countdown = {
		icon = european_union

		visible = {
		    original_tag = ENG
			has_idea = idea_european_union_member
			NOT = { has_global_flag = brexit_stopped }
		}
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
			has_country_flag = second_referendum_stay
		}

		selectable_mission = yes
		days_mission_timeout = 454
		is_good = no
		fire_only_once = yes

		complete_effect = {
            news_event = britain.10
			hidden_effect = {
				remove_ideas = idea_brexit
			}
		}
		
		timeout_effect = {
		    remove_ideas = idea_european_union_member
			hidden_effect = {
				remove_ideas = idea_brexit
				every_country = {
					remove_opinion_modifier = { target = ROOT modifier = european_union_member }
				}
			}
			if = {
		        limit = {
			        has_country_flag = brexit_deal
		        }
				# Soft Brexit
		        else = {
				    # Hard Brexit
			        news_event = britain.9
					hidden_effect = {
						every_country = {
							remove_opinion_modifier = { target = ROOT modifier = european_union_member_trade }
						}
					}
		        }
	        }
		}
	}
	
	second_brexit_referendum = {
		visible = {
		    original_tag = ENG
			has_idea = idea_brexit
			NOT = { has_country_flag = brexit_deal }
		}
		
		icon = european_union
		
		cost = 150
		fire_only_once = yes
		
		complete_effect = {
			country_event = britain.11
		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				factor = 10
				OR = {
				    has_government = social_liberal
					has_government = progressive
					has_government = social_democrat
				}
			}
		}
	}
}