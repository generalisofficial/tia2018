########################### GET MEMBERS OF THE CURRENT COALITION

defined_text = {
	name = GetCoalitionMember1
	
	text = {
		trigger = {
			has_country_flag = coalition_islamist
		}
		localization_key = coalition_islamist_party
	}
}
defined_text = {
	name = GetCoalitionMember2

	text = {
		trigger = {
			has_country_flag = coalition_fascist
		}
		localization_key = coalition_fascist_party
	}
}
defined_text = {
	name = GetCoalitionMember3

	text = {
		trigger = {
			has_country_flag = coalition_right_wing_nationalist
		}
		localization_key = coalition_right_wing_nationalist_party
	}
}
defined_text = {
	name = GetCoalitionMember4
	
	text = {
		trigger = {
			has_country_flag = coalition_monarchist
		}
		localization_key = coalition_monarchist_party
	}
}
defined_text = {
	name = GetCoalitionMember5

	text = {
		trigger = {
			has_country_flag = coalition_national_conservative
		}
		localization_key = coalition_national_conservative_party
	}
}
defined_text = {
	name = GetCoalitionMember6

	text = {
		trigger = {
			has_country_flag = coalition_conservative
		}
		localization_key = coalition_conservative_party
	}
}
defined_text = {
	name = GetCoalitionMember7

	text = {
		trigger = {
			has_country_flag = coalition_classical_liberal
		}
		localization_key = coalition_classical_liberal_party
	}
}
defined_text = {
	name = GetCoalitionMember8

	text = {
		trigger = {
			has_country_flag = coalition_social_liberal
		}
		localization_key = coalition_social_liberal_party
	}
}
defined_text = {
	name = GetCoalitionMember9

	text = {
		trigger = {
			has_country_flag = coalition_social_democrat
		}
		localization_key = coalition_social_democrat_party
	}
}
defined_text = {
	name = GetCoalitionMember10

	text = {
		trigger = {
			has_country_flag = coalition_progressive
		}
		localization_key = coalition_progressive_party
	}
}
defined_text = {
	name = GetCoalitionMember11

	text = {
		trigger = {
			has_country_flag = coalition_socialist
		}
		localization_key = coalition_socialist_party
	}
}
defined_text = {
	name = GetCoalitionMember12

	text = {
		trigger = {
			has_country_flag = coalition_communist
		}
		localization_key = coalition_communist_party
	}
}

############################### DOES THE PARTY HAVE ENOUGH VOTES TO BE ELECTIBLE?

defined_text = {
	name = GetIslamicPartyTT

	text = {
		trigger = {
			islamist < 0.05
		}
		localization_key = COALITION_PARTY_NOT_ENOUGH
	}

	text = {
		trigger = {
			islamist > 0.05
			islamist < 0.5
		}
		localization_key = COALITION_PARTY_ENOUGH
	}

	text = {
		trigger = {
			islamist > 0.5
		}
		localization_key = COALITION_PARTY_MAJORITY
	}
}
defined_text = {
	name = GetFascistPartyTT

	text = {
		trigger = {
			fascist < 0.05
		}
		localization_key = COALITION_PARTY_NOT_ENOUGH
	}

	text = {
		trigger = {
			fascist > 0.05
			fascist < 0.5
		}
		localization_key = COALITION_PARTY_ENOUGH
	}

	text = {
		trigger = {
			fascist > 0.5
		}
		localization_key = COALITION_PARTY_MAJORITY
	}
}
defined_text = {
	name = GetRightWingNationalistPartyTT

	text = {
		trigger = {
			right_wing_nationalist < 0.05
		}
		localization_key = COALITION_PARTY_NOT_ENOUGH
	}

	text = {
		trigger = {
			right_wing_nationalist > 0.05
			right_wing_nationalist < 0.5
		}
		localization_key = COALITION_PARTY_ENOUGH
	}

	text = {
		trigger = {
			right_wing_nationalist > 0.5
		}
		localization_key = COALITION_PARTY_MAJORITY
	}
}
defined_text = {
	name = GetMonarchistPartyTT

	text = {
		trigger = {
			monarchist < 0.05
		}
		localization_key = COALITION_PARTY_NOT_ENOUGH
	}

	text = {
		trigger = {
			monarchist > 0.05
			monarchist < 0.5
		}
		localization_key = COALITION_PARTY_ENOUGH
	}

	text = {
		trigger = {
			monarchist > 0.5
		}
		localization_key = COALITION_PARTY_MAJORITY
	}
}
defined_text = {
	name = GetNationalConservativePartyTT

	text = {
		trigger = {
			national_conservative < 0.05
		}
		localization_key = COALITION_PARTY_NOT_ENOUGH
	}

	text = {
		trigger = {
			national_conservative > 0.05
			national_conservative < 0.5
		}
		localization_key = COALITION_PARTY_ENOUGH
	}

	text = {
		trigger = {
			national_conservative > 0.5
		}
		localization_key = COALITION_PARTY_MAJORITY
	}
}
defined_text = {
	name = GetConservativePartyTT

	text = {
		trigger = {
			conservative < 0.05
		}
		localization_key = COALITION_PARTY_NOT_ENOUGH
	}

	text = {
		trigger = {
			conservative > 0.05
			conservative < 0.5
		}
		localization_key = COALITION_PARTY_ENOUGH
	}

	text = {
		trigger = {
			conservative > 0.5
		}
		localization_key = COALITION_PARTY_MAJORITY
	}
}
defined_text = {
	name = GetMarketLiberalPartyTT

	text = {
		trigger = {
			classical_liberal < 0.05
		}
		localization_key = COALITION_PARTY_NOT_ENOUGH
	}

	text = {
		trigger = {
			classical_liberal > 0.05
			classical_liberal < 0.5
		}
		localization_key = COALITION_PARTY_ENOUGH
	}

	text = {
		trigger = {
			classical_liberal > 0.5
		}
		localization_key = COALITION_PARTY_MAJORITY
	}
}
defined_text = {
	name = GetSocialLiberalPartyTT

	text = {
		trigger = {
			social_liberal < 0.05
		}
		localization_key = COALITION_PARTY_NOT_ENOUGH
	}

	text = {
		trigger = {
			social_liberal > 0.05
			social_liberal < 0.5
		}
		localization_key = COALITION_PARTY_ENOUGH
	}

	text = {
		trigger = {
			social_liberal > 0.5
		}
		localization_key = COALITION_PARTY_MAJORITY
	}
}
defined_text = {
	name = GetSocialDemocraticPartyTT

	text = {
		trigger = {
			social_democrat < 0.05
		}
		localization_key = COALITION_PARTY_NOT_ENOUGH
	}

	text = {
		trigger = {
			social_democrat > 0.05
			social_democrat < 0.5
		}
		localization_key = COALITION_PARTY_ENOUGH
	}

	text = {
		trigger = {
			social_democrat > 0.5
		}
		localization_key = COALITION_PARTY_MAJORITY
	}
}
defined_text = {
	name = GetProgressivePartyTT

	text = {
		trigger = {
			progressive < 0.05
		}
		localization_key = COALITION_PARTY_NOT_ENOUGH
	}

	text = {
		trigger = {
			progressive > 0.05
			progressive < 0.5
		}
		localization_key = COALITION_PARTY_ENOUGH
	}

	text = {
		trigger = {
			progressive > 0.5
		}
		localization_key = COALITION_PARTY_MAJORITY
	}
}
defined_text = {
	name = GetSocialistPartyTT

	text = {
		trigger = {
			socialist < 0.05
		}
		localization_key = COALITION_PARTY_NOT_ENOUGH
	}

	text = {
		trigger = {
			socialist > 0.05
			socialist < 0.5
		}
		localization_key = COALITION_PARTY_ENOUGH
	}

	text = {
		trigger = {
			socialist > 0.5
		}
		localization_key = COALITION_PARTY_MAJORITY
	}
}
defined_text = {
	name = GetCommunistPartyTT

	text = {
		trigger = {
			communist < 0.05
		}
		localization_key = COALITION_PARTY_NOT_ENOUGH
	}

	text = {
		trigger = {
			communist > 0.05
			communist < 0.5
		}
		localization_key = COALITION_PARTY_ENOUGH
	}

	text = {
		trigger = {
			communist > 0.5
		}
		localization_key = COALITION_PARTY_MAJORITY
	}
}


####################### GET IF ENOUGH VOTES TO TURN GREEN OR RED

defined_text = {
	name = GetEnoughIslamic

	text = {
		trigger = {
			islamist < 0.001
		}
		localization_key = COALITION_PARTY_RED
	}
	text = {
		trigger = {
			islamist > 0.00
		}
		localization_key = COALITION_PARTY_GREEN
	}
}
defined_text = {
	name = GetEnoughFascist

	text = {
		trigger = {
			fascist < 0.001
		}
		localization_key = COALITION_PARTY_RED
	}
	text = {
		trigger = {
			fascist > 0.00
		}
		localization_key = COALITION_PARTY_GREEN
	}
}
defined_text = {
	name = GetEnoughRightWingNationalist

	text = {
		trigger = {
			right_wing_nationalist < 0.001
		}
		localization_key = COALITION_PARTY_RED
	}
	text = {
		trigger = {
			right_wing_nationalist > 0.00
		}
		localization_key = COALITION_PARTY_GREEN
	}
}
defined_text = {
	name = GetEnoughMonarchist

	text = {
		trigger = {
			monarchist < 0.001
		}
		localization_key = COALITION_PARTY_RED
	}
	text = {
		trigger = {
			monarchist > 0.00
		}
		localization_key = COALITION_PARTY_GREEN
	}
}
defined_text = {
	name = GetEnoughNationalConservative

	text = {
		trigger = {
			national_conservative < 0.001
		}
		localization_key = COALITION_PARTY_RED
	}
	text = {
		trigger = {
			national_conservative > 0.00
		}
		localization_key = COALITION_PARTY_GREEN
	}
}
defined_text = {
	name = GetEnoughConservative

	text = {
		trigger = {
			conservative < 0.001
		}
		localization_key = COALITION_PARTY_RED
	}
	text = {
		trigger = {
			conservative > 0.00
		}
		localization_key = COALITION_PARTY_GREEN
	}
}
defined_text = {
	name = GetEnoughMarketLiberal

	text = {
		trigger = {
			classical_liberal < 0.001
		}
		localization_key = COALITION_PARTY_RED
	}
	text = {
		trigger = {
			classical_liberal > 0.00
		}
		localization_key = COALITION_PARTY_GREEN
	}
}
defined_text = {
	name = GetEnoughSocialLiberal

	text = {
		trigger = {
			social_liberal < 0.001
		}
		localization_key = COALITION_PARTY_RED
	}
	text = {
		trigger = {
			social_liberal > 0.00
		}
		localization_key = COALITION_PARTY_GREEN
	}
}
defined_text = {
	name = GetEnoughSocialDemocratic

	text = {
		trigger = {
			social_democrat < 0.001
		}
		localization_key = COALITION_PARTY_RED
	}
	text = {
		trigger = {
			social_democrat > 0.00
		}
		localization_key = COALITION_PARTY_GREEN
	}
}
defined_text = {
	name = GetEnoughProgressive

	text = {
		trigger = {
			progressive < 0.001
		}
		localization_key = COALITION_PARTY_RED
	}
	text = {
		trigger = {
			progressive > 0.00
		}
		localization_key = COALITION_PARTY_GREEN
	}
}
defined_text = {
	name = GetEnoughSocialist

	text = {
		trigger = {
			socialist < 0.001
		}
		localization_key = COALITION_PARTY_RED
	}
	text = {
		trigger = {
			socialist > 0.00
		}
		localization_key = COALITION_PARTY_GREEN
	}
}
defined_text = {
	name = GetEnoughCommunist

	text = {
		trigger = {
			communist < 0.001
		}
		localization_key = COALITION_PARTY_RED
	}
	text = {
		trigger = {
			communist > 0.00
		}
		localization_key = COALITION_PARTY_GREEN
	}
}

####################### GET IF WE CAN MOVE ON TO THE NEXT WINDOW

defined_text = {
	name = GetNextAvailable1

	text = {
		trigger = {
			has_country_flag = government_chosen
		}
		localization_key = COALITION_NEXT_OK
	}

	text = {
		trigger = {
			NOT = { has_country_flag = government_chosen }
		}
		localization_key = COALITION_NEXT_NO
	}
}

####################### GET IF COALITION FORMING IS FINISHED

defined_text = {
	name = GetCoalitionFinished

	text = {
		trigger = {
			has_country_flag = coalition_chosen
		}
		localization_key = COALITION_FINISHED_OK
	}

	text = {
		trigger = {
			NOT = { has_country_flag = coalition_chosen }
			check_variable = {
				var = ROOT.NewCoalition
				value = 50
				compare = greater_than_or_equals
			}
		}
		localization_key = COALITION_FINISHED_NO
	}
}

####################### Dynamic Parliament Names

defined_text = {
	name = GetParliamentName
	text = {
		trigger = {
			OR = {
				original_tag = FRA
				original_tag = BHU
				original_tag = BRD
				original_tag = CAM
				original_tag = CMR
				original_tag = COG
				original_tag = RCG
				original_tag = GAB
				original_tag = IVO
				original_tag = KEN
				original_tag = LES
				original_tag = MAD
				original_tag = NMB
				original_tag = PAK
				original_tag = SLV
				original_tag = SAF
				original_tag = SUD
				original_tag = ANG
				original_tag = ARM
				original_tag = AZR
				original_tag = DAH
				original_tag = BUL
				original_tag = VOL
				original_tag = CAR
				original_tag = CHA
			}
		}
		localization_key = parliament_national_assembly
	}
	text = {
		trigger = {
			OR = {
				original_tag = USA
				original_tag = ANT
				original_tag = AST
				original_tag = BLR
				original_tag = BLZ
				original_tag = BOS
				original_tag = EGY
				original_tag = GND
				original_tag = JAM
				original_tag = JAP
				original_tag = LIB
				original_tag = MOR
				original_tag = NEP
				original_tag = HOL
				original_tag = NGA
				original_tag = PHI
				original_tag = SIA
				original_tag = TRI
				original_tag = YEM
				original_tag = BOT
			}
		}
		localization_key = parliament_house_of_representatives
	}
	text = {
		trigger = {
			original_tag = GER
		}
		localization_key = parliament_bundestag
	}
	text = {
		trigger = {
			original_tag = SWE
		}
		localization_key = parliament_riksdag
	}
	text = {
		trigger = {
			original_tag = AFG
		}
		localization_key = parliament_house_of_the_people
	}
	text = {
		trigger = {
			original_tag = ALG
		}
		localization_key = parliament_peoples_national_assembly
	}
	text = {
		trigger = {
			OR = {
				original_tag = BAH
				original_tag = BRB
				original_tag = SWZ
				original_tag = STL
				original_tag = ZIM
			}
		}
		localization_key = parliament_house_of_assembly
	}
	text = {
		trigger = {
			OR = {
				original_tag = ARG
				original_tag = BOL
				original_tag = BRA
				original_tag = CHL
				original_tag = CZE
				original_tag = DOM
				original_tag = EQG
				original_tag = HAI
				original_tag = ITA
				original_tag = MEX
				original_tag = PAR
				original_tag = ROM
				original_tag = RWA
			}
		}
		localization_key = parliament_chamber_of_deputies
	}
	text = {
		trigger = {
			OR = {
				original_tag = AUS
				original_tag = SWI
			}
		}
		localization_key = parliament_national_council
	}
	text = {
		trigger = {
			original_tag = BHR
		}
		localization_key = parliament_council_of_representatives
	}
	text = {
		trigger = {
			OR = {
				original_tag = BEL
				original_tag = COL
				original_tag = URG
			}
		}
		localization_key = parliament_chamber_of_representatives
	}
	text = {
		trigger = {
			OR = {
				original_tag = CAN
				original_tag = ENG
			}
		}
		localization_key = parliament_house_of_commons
	}
	text = {
		trigger = {
			original_tag = ETH
		}
		localization_key = parliament_house_of_peoples_representatives
	}
	text = {
		trigger = {
			original_tag = RAJ
		}
		localization_key = parliament_lok_sabha
	}
	text = {
		trigger = {
			original_tag = INS
		}
		localization_key = parliament_peoples_representative_council
	}
	text = {
		trigger = {
			original_tag = IRE
		}
		localization_key = parliament_dail_eireann
	}
	text = {
		trigger = {
			original_tag = JOR
		}
		localization_key = parliament_assembly_of_deputies
	}
	text = {
		trigger = {
			original_tag = KAZ
		}
		localization_key = parliament_mazhilis
	}
	text = {
		trigger = {
			original_tag = MAL
		}
		localization_key = parliament_dewan_rakyat
	}
	text = {
		trigger = {
			original_tag = BRM
		}
		localization_key = parliament_pyithu_hluttaw
	}
	text = {
		trigger = {
			original_tag = OMA
		}
		localization_key = parliament_consultative_assembly
	}
	text = {
		trigger = {
			original_tag = PLU
		}
		localization_key = parliament_house_of_delegates
	}
	text = {
		trigger = {
			original_tag = POL
		}
		localization_key = parliament_sejm
	}
	text = {
		trigger = {
			original_tag = SOV
		}
		localization_key = parliament_state_duma
	}
	text = {
		trigger = {
			original_tag = SOM
		}
		localization_key = parliament_house_of_the_people
	}
	text = {
		trigger = {
			original_tag = SSD
		}
		localization_key = parliament_national_legislative_assembly
	}
	text = {
		trigger = {
			original_tag = SPR
		}
		localization_key = parliament_congress_of_deputies
	}
	text = {
		trigger = {
			original_tag = TAJ
		}
		localization_key = parliament_assembly_of_representatives
	}
	text = {
		trigger = {
			original_tag = TMS
		}
		localization_key = parliament_mejlis
	}
	text = {
		trigger = {
			original_tag = UZB
		}
		localization_key = parliament_legislative_chamber
	}
	text = {
		trigger = {
			original_tag = ALB
		}
		localization_key = parliament_kuvendi
	}
	text = {
		trigger = {
			original_tag = AND
		}
		localization_key = parliament_general_council
	}
	text = {
		trigger = {
			original_tag = AND
		}
		localization_key = parliament_general_council
	}
	text = {
		trigger = {
			original_tag = BAN
		}
		localization_key = parliament_jatiya_sangsad
	}
	text = {
		trigger = {
			original_tag = BRU
		}
		localization_key = parliament_legislative_council
	}
	text = {
		trigger = {
			original_tag = PRC
		}
		localization_key = parliament_national_peoples_congress
	}
	text = {
		trigger = {
			has_country_flag = has_parliament
		}
		localization_key = parliament_generic
	}
	text = {
		trigger = {
			NOT = { has_country_flag = has_parliament }
		}
		localization_key = parliament_none
	}
}

#### Check if should show popularity in parliament popularity list

defined_text = {
	name = GetHasPopularityText
	text = {
		trigger = {
			check_variable = { parliament_popularity_array^popularity_idx = 1 }
		}
		localization_key = COMMUNIST_POPULARITY_TEXT
	}
	text = {
		trigger = {
			check_variable = { parliament_popularity_array^popularity_idx = 2 }
		}
		localization_key = SOCIALISTS_POPULARITY_TEXT
	}
	text = {
		trigger = {
			check_variable = { parliament_popularity_array^popularity_idx = 3 }
		}
		localization_key = SOCIAL_DEMOCRATS_POPULARITY_TEXT
	}
	text = {
		trigger = {
			check_variable = { parliament_popularity_array^popularity_idx = 4 }
		}
		localization_key = PROGRESSIVE_POPULARITY_TEXT
	}
	text = {
		trigger = {
			check_variable = { parliament_popularity_array^popularity_idx = 5 }
		}
		localization_key = SOCIAL_LIBERAL_POPULARITY_TEXT
	}
	text = {
		trigger = {
			check_variable = { parliament_popularity_array^popularity_idx = 6 }
		}
		localization_key = CLASSICAL_LIBERAL_POPULARITY_TEXT
	}
	text = {
		trigger = {
			check_variable = { parliament_popularity_array^popularity_idx = 7 }
		}
		localization_key = CONSERVATIVE_POPULARITY_TEXT
	}
	text = {
		trigger = {
			check_variable = { parliament_popularity_array^popularity_idx = 8 }
		}
		localization_key = ISLAMIST_POPULARITY_TEXT
	}
	text = {
		trigger = {
			check_variable = { parliament_popularity_array^popularity_idx = 9 }
		}
		localization_key = MONARCHIST_POPULARITY_TEXT
	}
	text = {
		trigger = {
			check_variable = { parliament_popularity_array^popularity_idx = 10 }
		}
		localization_key = NATIONAL_CONSERVATIVE_POPULARITY_TEXT
	}
	text = {
		trigger = {
			check_variable = { parliament_popularity_array^popularity_idx = 11 }
		}
		localization_key = RIGHT_WING_NATIONALIST_POPULARITY_TEXT
	}
	text = {
		trigger = {
			check_variable = { parliament_popularity_array^popularity_idx = 12 }
		}
		localization_key = THIRD_POSITION_POPULARITY_TEXT
	}
}