release_idea_transfer = {
	if = {
		limit = {
			FROM = { has_idea = presidential_republic }
		}
		add_ideas = presidential_republic
		if = {
			limit = {
				NOT = {
					has_country_flag = has_a_legislature 
				}
			}
			set_country_flag = has_a_legislature
			elect_new_parliament = yes 
			quickset_coalition = yes
			set_parliament_graphics = yes
		}
	}
	if = {
		limit = {
			FROM = { has_idea = parliamentary_system }
		}
		ROOT = { 
			add_ideas = parliamentary_system 
			if = {
				limit = {
					NOT = {
						has_country_flag = has_a_legislature 
					}
				}
				set_country_flag = has_a_legislature
				elect_new_parliament = yes 
				quickset_coalition = yes
				set_parliament_graphics = yes
			}
		}
	}
	if = {
		limit = {
			FROM = { has_idea = demarchic_republic }
		}
		add_ideas = demarchic_republic
		if = {
			limit = {
				NOT = {
					has_country_flag = has_a_legislature 
				}
			}
			set_country_flag = has_a_legislature
			elect_new_parliament = yes 
			quickset_coalition = yes
			set_parliament_graphics = yes
		}
	}
	if = {
		limit = {
			FROM = { 
				OR ={
					has_idea = one_party_state
					AND = {
						has_idea = absolute_monarchy
						NOT = {
							ROOT = { has_government = monarchist }
						}
					}
				}
				has_idea = one_party_state
			}
		}
		add_ideas = one_party_state
	}
	if = {
		limit = {
			has_government = monarchist
		}
		add_ideas = absolute_monarchy
	}
}

organizations_opinion_setup = {
	every_country = {
		limit = {
			has_idea = idea_european_union_member
		}
		every_other_country = {
			limit = {
				has_idea = idea_european_union_member
			}
			add_opinion_modifier = {
				target = PREV
				modifier = european_union_member
			}
			add_opinion_modifier = {
				target = PREV
				modifier = european_union_member_trade
			}
		}
	}
	every_country = {
		limit = {
			has_idea = idea_african_union_member
		}
		every_other_country = {
			limit = {
				has_idea = idea_african_union_member
			}
			add_opinion_modifier = {
				target = PREV
				modifier = african_union_member
			}
		}
	}
	every_country = {
		limit = {
			has_idea = idea_commonwealth_of_nations_member
		}
		every_other_country = {
			limit = {
				has_idea = idea_commonwealth_of_nations_member
			}
			add_opinion_modifier = {
				target = PREV
				modifier = commonwealth_of_nations_member
			}
		}
	}
	every_country = {
		limit = {
			has_idea = idea_baltic_assembly_member
		}
		every_other_country = {
			limit = {
				has_idea = idea_baltic_assembly_member
			}
			add_opinion_modifier = {
				target = PREV
				modifier = baltic_assembly_member
			}
		}
	}
	every_country = {
		limit = {
			has_idea = idea_benelux_union_member
		}
		every_other_country = {
			limit = {
				has_idea = idea_benelux_union_member
			}
			add_opinion_modifier = {
				target = PREV
				modifier = benelux_union_member
			}
		}
	}
	every_country = {
		limit = {
			has_idea = idea_east_african_community_member
		}
		every_other_country = {
			limit = {
				has_idea = idea_east_african_community_member
			}
			add_opinion_modifier = {
				target = PREV
				modifier = east_african_community_member
			}
		}
	}
	every_country = {
		limit = {
			has_idea = idea_nordic_council_member
		}
		every_other_country = {
			limit = {
				has_idea = idea_nordic_council_member
			}
			add_opinion_modifier = {
				target = PREV
				modifier = nordic_council_member
			}
		}
	}
	every_country = {
		limit = {
			has_idea = idea_asean_member
		}
		every_other_country = {
			limit = {
				has_idea = idea_asean_member
			}
			add_opinion_modifier = {
				target = PREV
				modifier = asean_member
			}
		}
	}
	every_country = {
		limit = {
			has_idea = idea_gulf_cooperation_council_member
		}
		every_other_country = {
			limit = {
				has_idea = idea_gulf_cooperation_council_member
			}
			add_opinion_modifier = {
				target = PREV
				modifier = gulf_cooperation_council_member
			}
		}
	}
	every_country = {
		limit = {
			has_idea = idea_commonwealth_of_independent_states_member
		}
		every_other_country = {
			limit = {
				has_idea = idea_commonwealth_of_independent_states_member
			}
			add_opinion_modifier = {
				target = PREV
				modifier = commonwealth_of_independent_states_member
			}
		}
	}
	every_country = {
		limit = {
			has_idea = idea_league_of_arab_states_member
		}
		every_other_country = {
			limit = {
				has_idea = idea_league_of_arab_states_member
			}
			add_opinion_modifier = {
				target = PREV
				modifier = league_of_arab_states_member
			}
		}
	}
	every_country = {
		limit = {
			has_idea = idea_shanghai_cooperation_organization_member
		}
		every_other_country = {
			limit = {
				has_idea = idea_shanghai_cooperation_organization_member
			}
			add_opinion_modifier = {
				target = PREV
				modifier = shanghai_cooperation_organization_member
			}
		}
	}
}

set_civil_liberties_opinion = {
	every_country = {
		limit = {
			has_idea = civil_liberties_authoritarian
		}
		every_other_country = {
			limit = {
				has_idea = civil_liberties_libertarian
			}
			add_opinion_modifier = {
				target = PREV
				modifier = authoritarian_regime
			}
		}
	}
	every_country = {
		limit = {
			has_idea = civil_liberties_totalitarian
		}
		every_other_country = {
			limit = {
				has_idea = civil_liberties_libertarian
			}
			add_opinion_modifier = {
				target = PREV
				modifier = totalitarian_regime
			}
		}
	}
}

clear_civil_liberties_opinion = {
	every_country = {
		every_other_country = {
			remove_opinion_modifier = {
				target = PREV
				modifier = authoritarian_regime
			}
			remove_opinion_modifier = {
				target = PREV
				modifier = totalitarian_regime
			}
		}
	}
}
