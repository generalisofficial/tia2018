scripted_gui = {
	coalition_topbar = {
		window_name = "coalition_topbar_container"
 
		context_type = player_context
 
		visible = {
            has_country_flag = has_parliament
		}
	}

	coalition_government_formation = {
		window_name = "coalition_government_formation_container"
 
		context_type = player_context
 
		visible = {
			has_country_flag = forming_government_1
		}

		ai_test_interval = 1
		ai_test_variance = 0.2
		ai_enabled = {
			always = yes
		}
		ai_check = {
           has_country_flag = forming_government_1
		}
		ai_weights = {
			party1_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 99
						islamist_plurality_seats = yes
					}
				}
			}
			party2_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 99
						fascist_plurality_seats = yes
					}
				}
			}
			party3_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 99
						right_wing_nationalist_plurality_seats = yes
					}
				}
			}
			party4_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 99
						monarchist_plurality_seats = yes
					}
				}
			}
			party5_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 100
						national_conservative_plurality_seats = yes
					}
				}
			}
			party6_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 99
						conservative_plurality_seats = yes
					}
				}
			}
			party7_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 99
						classical_liberal_plurality_seats = yes
					}
				}
			}
			party8_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 99
						social_liberal_plurality_seats = yes
					}
				}
			}
			party9_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 99
						social_democrat_plurality_seats = yes
					}
				}
			}
			party10_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 99
						progressive_plurality_seats = yes
					}
				}
			}
			party11_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 99
						socialist_plurality_seats = yes
					}
				}
			}
			party12_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 99
						communist_plurality_seats = yes
					}
				}
			}
			next_click = {
                ai_will_do = {
                    factor = 100
                }
            }
        }
 
        effects = {
			next_click = {
				clr_country_flag = forming_government_1
				set_country_flag = forming_government_2
				if = {
					limit = {
						has_country_flag = government_islamist
					}
					set_politics = {						
						ruling_party = islamist
						elections_allowed = yes
					}
					set_country_flag = coalition_islamist
					set_variable = {
						var = ROOT.NewCoalition
						value = islamist_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_fascist
					}
					set_politics = {						
						ruling_party = fascist
						elections_allowed = yes
					}
					set_country_flag = coalition_fascist
					set_variable = {
						var = ROOT.NewCoalition
						value = fascist_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_right_wing_nationalist
					}
					set_politics = {						
						ruling_party = right_wing_nationalist
						elections_allowed = yes
					}
					set_country_flag = coalition_right_wing_nationalist
					set_variable = {
						var = ROOT.NewCoalition
						value = right_wing_nationalist_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_monarchist
					}
					set_politics = {						
						ruling_party = monarchist
						elections_allowed = yes
					}
					set_country_flag = coalition_monarchist
					set_variable = {
						var = ROOT.NewCoalition
						value = monarchist_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_national_conservative
					}
					set_politics = {						
						ruling_party = national_conservative
						elections_allowed = yes
					}
					set_country_flag = coalition_national_conservative
					set_variable = {
						var = ROOT.NewCoalition
						value = national_conservative_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_conservative
					}
					set_politics = {						
						ruling_party = conservative
						elections_allowed = yes
					}
					set_country_flag = coalition_conservative
					set_variable = {
						var = ROOT.NewCoalition
						value = conservative_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_classical_liberal
					}
					set_politics = {						
						ruling_party = classical_liberal
						elections_allowed = yes
					}
					set_country_flag = coalition_classical_liberal
					set_variable = {
						var = ROOT.NewCoalition
						value = classical_liberal_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_social_liberal
					}
					set_politics = {						
						ruling_party = social_liberal
						elections_allowed = yes
					}
					set_country_flag = coalition_social_liberal
					set_variable = {
						var = ROOT.NewCoalition
						value = social_liberal_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_social_democrat
					}
					set_politics = {
						ruling_party = social_democrat
						elections_allowed = yes
					}
					set_country_flag = coalition_social_democrat
					set_variable = {
						var = ROOT.NewCoalition
						value = social_democrat_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_progressive
					}
					set_politics = {						
						ruling_party = progressive
						elections_allowed = yes
					}
					set_country_flag = coalition_progressive
					set_variable = {
						var = ROOT.NewCoalition
						value = progressive_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_socialist
					}
					set_politics = {						
						ruling_party = socialist
						elections_allowed = yes
					}
					set_country_flag = coalition_socialist
					set_variable = {
						var = ROOT.NewCoalition
						value = socialist_seats
					}
				}
				else_if = {
					limit = {
						has_country_flag = government_communist
					}
					set_politics = {						
						ruling_party = communist
						elections_allowed = yes
					}
					set_country_flag = coalition_communist
					set_variable = {
						var = ROOT.NewCoalition
						value = communist_seats
					}
				}
			}
			party1_click = { 
				if = {
					limit = {
						has_country_flag = government_islamist
						has_country_flag = government_chosen
					}
					clr_country_flag = government_islamist
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_islamist
					set_country_flag = government_chosen
				}
				clr_country_flag = government_fascist
				clr_country_flag = government_right_wing_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_national_conservative
				clr_country_flag = government_conservative
				clr_country_flag = government_classical_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_socialist
				clr_country_flag = government_communist
			}
			party2_click = { 
				if = {
					limit = {
						has_country_flag = government_fascist
						has_country_flag = government_chosen
					}
					clr_country_flag = government_fascist
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_fascist
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_right_wing_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_national_conservative
				clr_country_flag = government_conservative
				clr_country_flag = government_classical_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_socialist
				clr_country_flag = government_communist
			}
			party3_click = { 
				if = {
					limit = {
						has_country_flag = government_right_wing_nationalist
						has_country_flag = government_chosen
					}
					clr_country_flag = government_right_wing_nationalist
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_right_wing_nationalist
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_monarchist
				clr_country_flag = government_national_conservative
				clr_country_flag = government_conservative
				clr_country_flag = government_classical_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_socialist
				clr_country_flag = government_communist
			}
			party4_click = { 
				if = {
					limit = {
						has_country_flag = government_monarchist
						has_country_flag = government_chosen
					}
					clr_country_flag = government_monarchist
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_monarchist
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_right_wing_nationalist
				clr_country_flag = government_national_conservative
				clr_country_flag = government_conservative
				clr_country_flag = government_classical_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_socialist
				clr_country_flag = government_communist
			}
			party5_click = { 
				if = {
					limit = {
						has_country_flag = government_national_conservative
						has_country_flag = government_chosen
					}
					clr_country_flag = government_national_conservative
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_national_conservative
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_right_wing_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_conservative
				clr_country_flag = government_classical_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_socialist
				clr_country_flag = government_communist
			}
			party6_click = { 
				if = {
					limit = {
						has_country_flag = government_conservative
						has_country_flag = government_chosen
					}
					clr_country_flag = government_conservative
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_conservative
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_right_wing_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_national_conservative
				clr_country_flag = government_classical_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_socialist
				clr_country_flag = government_communist
			}
			party7_click = { 
				if = {
					limit = {
						has_country_flag = government_classical_liberal
						has_country_flag = government_chosen
					}
					clr_country_flag = government_classical_liberal
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_classical_liberal
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_right_wing_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_national_conservative
				clr_country_flag = government_conservative
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_socialist
				clr_country_flag = government_communist
			}
			party8_click = { 
				if = {
					limit = {
						has_country_flag = government_social_liberal
						has_country_flag = government_chosen
					}
					clr_country_flag = government_social_liberal
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_social_liberal
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_right_wing_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_national_conservative
				clr_country_flag = government_conservative
				clr_country_flag = government_classical_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_socialist
				clr_country_flag = government_communist
			}
			party9_click = { 
				if = {
					limit = {
						has_country_flag = government_social_democrat
						has_country_flag = government_chosen
					}
					clr_country_flag = government_social_democrat
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_social_democrat
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_right_wing_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_national_conservative
				clr_country_flag = government_conservative
				clr_country_flag = government_classical_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_progressive
				clr_country_flag = government_socialist
				clr_country_flag = government_communist
			}
			party10_click = { 
				if = {
					limit = {
						has_country_flag = government_progressive
						has_country_flag = government_chosen
					}
					clr_country_flag = government_progressive
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_progressive
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_right_wing_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_national_conservative
				clr_country_flag = government_conservative
				clr_country_flag = government_classical_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_socialist
				clr_country_flag = government_communist
			}
			party11_click = { 
				if = {
					limit = {
						has_country_flag = government_socialist
						has_country_flag = government_chosen
					}
					clr_country_flag = government_socialist
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_socialist
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_right_wing_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_national_conservative
				clr_country_flag = government_conservative
				clr_country_flag = government_classical_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_communist
			}
			party12_click = { 
				if = {
					limit = {
						has_country_flag = government_communist
						has_country_flag = government_chosen
					}
					clr_country_flag = government_communist
					clr_country_flag = government_chosen
				}
				else = {
					set_country_flag = government_communist
					set_country_flag = government_chosen
				}
				clr_country_flag = government_islamist
				clr_country_flag = government_fascist
				clr_country_flag = government_right_wing_nationalist
				clr_country_flag = government_monarchist
				clr_country_flag = government_national_conservative
				clr_country_flag = government_conservative
				clr_country_flag = government_classical_liberal
				clr_country_flag = government_social_liberal
				clr_country_flag = government_social_democrat
				clr_country_flag = government_progressive
				clr_country_flag = government_socialist
			}
        }
        
		triggers = {
			party1_click_enabled = {
				islamist > 0.00
			}
			party1_title_click_enabled = {
				islamist > 0.00
			}
			party1_accept_visible = {
				has_country_flag = government_islamist
			}
			party2_click_enabled = {
				fascist > 0.00
			}
			party2_title_click_enabled = {
				fascist > 0.00
			}
			party2_accept_visible = {
				has_country_flag = government_fascist
			}
			party3_click_enabled = {
				right_wing_nationalist > 0.00
			}
			party3_title_click_enabled = {
				right_wing_nationalist > 0.00
			}
			party3_accept_visible = {
				has_country_flag = government_right_wing_nationalist
			}
			party4_click_enabled = {
				monarchist > 0.00
			}
			party4_title_click_enabled = {
				monarchist > 0.00
			}
			party4_accept_visible = {
				has_country_flag = government_monarchist
			}
			party5_click_enabled = {
				national_conservative > 0.00
			}
			party5_title_click_enabled = {
				national_conservative > 0.00
			}
			party5_accept_visible = {
				has_country_flag = government_national_conservative
			}
			party6_click_enabled = {
				conservative > 0.00
			}
			party6_title_click_enabled = {
				conservative > 0.00
			}
			party6_accept_visible = {
				has_country_flag = government_conservative
			}
			party7_click_enabled = {
				classical_liberal > 0.00
			}
			party7_title_click_enabled = {
				classical_liberal > 0.00
			}
			party7_accept_visible = {
				has_country_flag = government_classical_liberal
			}
			party8_click_enabled = {
				social_liberal > 0.00
			}
			party8_title_click_enabled = {
				social_liberal > 0.00
			}
			party8_accept_visible = {
				has_country_flag = government_social_liberal
			}
			party9_click_enabled = {
				social_democrat > 0.00
			}
			party9_title_click_enabled = {
				social_democrat > 0.00
			}
			party9_accept_visible = {
				has_country_flag = government_social_democrat
			}
			party10_click_enabled = {
				progressive > 0.00
			}
			party10_title_click_enabled = {
				progressive > 0.00
			}
			party10_accept_visible = {
				has_country_flag = government_progressive
			}
			party11_click_enabled = {
				socialist > 0.00
			}
			party11_title_click_enabled = {
				socialist > 0.00
			}
			party11_accept_visible = {
				has_country_flag = government_socialist
			}
			party12_click_enabled = {
				communist > 0.00
			}
			party12_title_click_enabled = {
				communist > 0.00
			}
			party12_accept_visible = {
				has_country_flag = government_communist
			}
			next_click_enabled = {
				has_country_flag = government_chosen
			}		
        }
		properties = {
			party1_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party2_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party3_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party4_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party5_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party6_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party7_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party8_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party9_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party10_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party11_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party12_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
		}
	}

	coalition_coalition_formation = {
		window_name = "coalition_coalition_formation_container"
 
		context_type = player_context
 
		visible = {
			has_country_flag = forming_government_2
		}

		ai_test_interval = 1
		ai_test_variance = 0.2
		ai_enabled = {
			always = yes
		}
		ai_check = {
           has_country_flag = forming_government_2
		}
		ai_weights = {
			party1_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 24
						NOT = { has_country_flag = coalition_islamist }
						has_idea = islam
						OR = {
							has_government = fascist
							has_government = right_wing_nationalist
							has_government = national_conservative
							has_government = conservative
						}
					}
				}
			}
			party2_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 49
						NOT = { has_country_flag = coalition_fascist }
						has_government = right_wing_nationalist
					}
					modifier = {
						add = 24
						NOT = { has_country_flag = coalition_fascist }
						has_government = national_conservative
					}
				}
			}
			party3_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 49
						NOT = { has_country_flag = coalition_right_wing_nationalist }
						OR = {
							has_government = national_conservative
							has_government = fascist
						}
					}
					modifier = {
						add = 24
						NOT = { has_country_flag = coalition_right_wing_nationalist }
						has_government = conservative
					}
				}
			}
			party4_click = {
				ai_will_do = {
					factor = 0
				}
			}
			party5_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 49
						NOT = { has_country_flag = coalition_national_conservative }
						OR = {
							has_government = right_wing_nationalist
							has_government = conservative
						}
					}
					modifier = {
						add = 24
						NOT = { has_country_flag = coalition_national_conservative }
						OR = {
							has_government = classical_liberal
							has_government = fascist
						}
					}
				}
			}
			party6_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 49
						NOT = { has_country_flag = coalition_conservative }
						OR = {
							has_government = classical_liberal
							has_government = national_conservative
						}
					}
					modifier = {
						add = 24
						NOT = { has_country_flag = coalition_conservative }
						OR = {
							has_government = social_liberal
							has_government = right_wing_nationalist
						}
					}
				}
			}
			party7_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 49
						NOT = { has_country_flag = coalition_classical_liberal }
						OR = {
							has_government = social_liberal
							has_government = conservative
						}
					}
					modifier = {
						add = 24
						NOT = { has_country_flag = coalition_classical_liberal }
						has_government = national_conservative
					}
					modifier = {
						add = 4
						NOT = { has_country_flag = coalition_classical_liberal }
						has_government = social_democrat
					}
				}
			}
			party8_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 49
						NOT = { has_country_flag = coalition_social_liberal }
						OR = {
							has_government = classical_liberal
							has_government = social_democrat
						}
					}
					modifier = {
						add = 24
						NOT = { has_country_flag = coalition_social_liberal }
						OR = {
							has_government = progressive
							has_government = conservative
						}
					}
				}
			}
			party9_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 49
						NOT = { has_country_flag = coalition_social_democrat }
						OR = {
							has_government = social_liberal
							has_government = progressive
						}
					}
					modifier = {
						add = 24
						NOT = { has_country_flag = coalition_social_democrat }
						OR = {
							has_government = socialist
							has_government = communist
						}
					}
					modifier = {
						add = 4
						NOT = { has_country_flag = coalition_social_democrat }
						has_government = classical_liberal
					}
				}
			}
			party10_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 49
						NOT = { has_country_flag = coalition_progressive }
						OR = {
							has_government = social_democrat
							has_government = socialist
						}
					}
					modifier = {
						add = 24
						NOT = { has_country_flag = coalition_progressive }
						OR = {
							has_government = social_liberal
							has_government = communist
						}
					}
				}
			}
			party11_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						add = 49
						NOT = { has_country_flag = coalition_socialist }
						OR = {
							has_government = communist
							has_government = progressive
						}
					}
					modifier = {
						add = 24
						NOT = { has_country_flag = coalition_socialist }
						has_government = social_democrat
					}
				}
			}
			party12_click = {
				ai_will_do = {
					factor = 1
					modifier = {
						NOT = { has_country_flag = coalition_communist }
						add = 49
						has_government = socialist
					}
					modifier = {
						add = 24
						NOT = { has_country_flag = coalition_communist }
						OR = {
							has_government = progressive
							has_government = social_democrat
						}
					}
				}
			}
			finish_click = {
                ai_will_do = {
                    factor = 2
					modifier = {
						add = 99
						check_variable = {
							var = ROOT.NewCoalition
							value = 50
							compare = greater_than_or_equals
						}
					}
                }
            }
        }
 
        effects = {
			finish_click = {
				clr_country_flag = forming_government_2
				set_country_flag = has_parliament
				add_to_variable = {
					var = ROOT.NewCoalition
					value = party_popularity@ruling_party
				}
				set_variable = { ROOT.NewCoalition = ROOT.Coalition }
				cleanup_coalition = yes
				update_coalition = yes
				set_parliament_graphics = yes
		        election_pulse = yes
			}
			party1_click = { 
				if = {
					limit = {
						has_country_flag = coalition_islamist
						check_variable = {
							var = ROOT.NewCoalition
							value = islamist_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_islamist
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = islamist_seats
					}
				}
				else = {
					set_country_flag = coalition_islamist
					add_to_variable = {
						var = ROOT.NewCoalition
						value = islamist_seats
					}
				}
			}
			party2_click = { 
				if = {
					limit = {
						has_country_flag = coalition_fascist
						check_variable = {
							var = ROOT.NewCoalition
							value = fascist_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_fascist
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = fascist_seats
					}
				}
				else = {
					set_country_flag = coalition_fascist
					add_to_variable = {
						var = ROOT.NewCoalition
						value = fascist_seats
					}
				}
			}
			party3_click = { 
				if = {
					limit = {
						has_country_flag = coalition_right_wing_nationalist
						check_variable = {
							var = ROOT.NewCoalition
							value = right_wing_nationalist_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_right_wing_nationalist
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = right_wing_nationalist_seats
					}
				}
				else = {
					set_country_flag = coalition_right_wing_nationalist
					add_to_variable = {
						var = ROOT.NewCoalition
						value = right_wing_nationalist_seats
					}
				}
			}
			party4_click = { 
				if = {
					limit = {
						has_country_flag = coalition_monarchist
						check_variable = {
							var = ROOT.NewCoalition
							value = monarchist_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_monarchist
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = monarchist_seats
					}
				}
				else = {
					set_country_flag = coalition_monarchist
					add_to_variable = {
						var = ROOT.NewCoalition
						value = monarchist_seats
					}
				}
			}
			party5_click = { 
				if = {
					limit = {
						has_country_flag = coalition_national_conservative
						check_variable = {
							var = ROOT.NewCoalition
							value = national_conservative_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_national_conservative
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = national_conservative_seats
					}
				}
				else = {
					set_country_flag = coalition_national_conservative
					add_to_variable = {
						var = ROOT.NewCoalition
						value = national_conservative_seats
					}
				}
			}
			party6_click = { 
				if = {
					limit = {
						has_country_flag = coalition_conservative
						check_variable = {
							var = ROOT.NewCoalition
							value = conservative_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_conservative
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = conservative_seats
					}
				}
				else = {
					set_country_flag = coalition_conservative
					add_to_variable = {
						var = ROOT.NewCoalition
						value = conservative_seats
					}
				}
			}
			party7_click = { 
				if = {
					limit = {
						has_country_flag = coalition_classical_liberal
						check_variable = {
							var = ROOT.NewCoalition
							value = classical_liberal_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_classical_liberal
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = classical_liberal_seats
					}
				}
				else = {
					set_country_flag = coalition_classical_liberal
					add_to_variable = {
						var = ROOT.NewCoalition
						value = classical_liberal_seats
					}
				}
			}
			party8_click = { 
				if = {
					limit = {
						has_country_flag = coalition_social_liberal
						check_variable = {
							var = ROOT.NewCoalition
							value = social_liberal_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_social_liberal
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = social_liberal_seats
					}
				}
				else = {
					set_country_flag = coalition_social_liberal
					add_to_variable = {
						var = ROOT.NewCoalition
						value = social_liberal_seats
					}
				}
			}
			party9_click = { 
				if = {
					limit = {
						has_country_flag = coalition_social_democrat
						check_variable = {
							var = ROOT.NewCoalition
							value = social_democrat_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_social_democrat
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = social_democrat_seats
					}
				}
				else = {
					set_country_flag = coalition_social_democrat
					add_to_variable = {
						var = ROOT.NewCoalition
						value = social_democrat_seats
					}
				}
			}
			party10_click = { 
				if = {
					limit = {
						has_country_flag = coalition_progressive
						check_variable = {
							var = ROOT.NewCoalition
							value = progressive_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_progressive
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = progressive_seats
					}
				}
				else = {
					set_country_flag = coalition_progressive
					add_to_variable = {
						var = ROOT.NewCoalition
						value = progressive_seats
					}
				}
			}
			party11_click = { 
				if = {
					limit = {
						has_country_flag = coalition_socialist
						check_variable = {
							var = ROOT.NewCoalition
							value = socialist_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_socialist
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = socialist_seats
					}
				}
				else = {
					set_country_flag = coalition_socialist
					add_to_variable = {
						var = ROOT.NewCoalition
						value = socialist_seats
					}
				}
			}
			party12_click = { 
				if = {
					limit = {
						has_country_flag = coalition_communist
						check_variable = {
							var = ROOT.NewCoalition
							value = communist_seats
							compare = greater_than_or_equals
						}
					}
					clr_country_flag = coalition_communist
					subtract_from_variable = {
						var = ROOT.NewCoalition
						value = communist_seats
					}
				}
				else = {
					set_country_flag = coalition_communist
					add_to_variable = {
						var = ROOT.NewCoalition
						value = communist_seats
					}
				}
			}
        }
        
		triggers = {
			party1_click_enabled = {
				islamist > 0.00
			}
			party1_title_click_enabled = {
				islamist > 0.00
			}
			party1_visible = {
				NOT = { has_country_flag = government_islamist }
			}
			party1_title_visible = {
				NOT = { has_country_flag = government_islamist }
			}
			party1_accept_visible = {
				has_country_flag = coalition_islamist
				NOT = { has_country_flag = government_islamist }
			}
			party2_click_enabled = {
				fascist > 0.00
			}
			party2_title_click_enabled = {
				fascist > 0.00
			}
			party2_visible = {
				NOT = { has_country_flag = government_fascist }
			}
			party2_title_visible = {
				NOT = { has_country_flag = government_fascist }
			}
			party2_accept_visible = {
				has_country_flag = coalition_fascist
				NOT = { has_country_flag = government_fascist }
			}
			party3_click_enabled = {
				right_wing_nationalist > 0.00
			}
			party3_title_click_enabled = {
				right_wing_nationalist > 0.00
			}
			party3_visible = {
				NOT = { has_country_flag = government_right_wing_nationalist }
			}
			party3_title_visible = {
				NOT = { has_country_flag = government_right_wing_nationalist }
			}
			party3_accept_visible = {
				has_country_flag = coalition_right_wing_nationalist
				NOT = { has_country_flag = government_right_wing_nationalist }
			}
			party4_click_enabled = {
				monarchist > 0.00
			}
			party4_title_click_enabled = {
				monarchist > 0.00
			}
			party4_visible = {
				NOT = { has_country_flag = government_monarchist }
			}
			party4_title_visible = {
				NOT = { has_country_flag = government_monarchist }
			}
			party4_accept_visible = {
				has_country_flag = coalition_monarchist
				NOT = { has_country_flag = government_monarchist }
			}
			party5_click_enabled = {
				national_conservative > 0.00
			}
			party5_title_click_enabled = {
				national_conservative > 0.00
			}
			party5_visible = {
				NOT = { has_country_flag = government_national_conservative }
			}
			party5_title_visible = {
				NOT = { has_country_flag = government_national_conservative }
			}
			party5_accept_visible = {
				has_country_flag = coalition_national_conservative
				NOT = { has_country_flag = government_national_conservative }
			}
			party6_click_enabled = {
				conservative > 0.00
			}
			party6_title_click_enabled = {
				conservative > 0.00
			}
			party6_visible = {
				NOT = { has_country_flag = government_conservative }
			}
			party6_title_visible = {
				NOT = { has_country_flag = government_conservative }
			}
			party6_accept_visible = {
				has_country_flag = coalition_conservative
				NOT = { has_country_flag = government_conservative }
			}
			party7_click_enabled = {
				classical_liberal > 0.00
			}
			party7_title_click_enabled = {
				classical_liberal > 0.00
			}
			party7_visible = {
				NOT = { has_country_flag = government_classical_liberal }
			}
			party7_title_visible = {
				NOT = { has_country_flag = government_classical_liberal }
			}
			party7_accept_visible = {
				has_country_flag = coalition_classical_liberal
				NOT = { has_country_flag = government_classical_liberal }
			}
			party8_click_enabled = {
				social_liberal > 0.00
			}
			party8_title_click_enabled = {
				social_liberal > 0.00
			}
			party8_visible = {
				NOT = { has_country_flag = government_social_liberal }
			}
			party8_title_visible = {
				NOT = { has_country_flag = government_social_liberal }
			}
			party8_accept_visible = {
				has_country_flag = coalition_social_liberal
				NOT = { has_country_flag = government_social_liberal }
			}
			party9_click_enabled = {
				social_democrat > 0.00
			}
			party9_title_click_enabled = {
				social_democrat > 0.00
			}
			party9_visible = {
				NOT = { has_country_flag = government_social_democrat }
			}
			party9_title_visible = {
				NOT = { has_country_flag = government_social_democrat }
			}
			party9_accept_visible = {
				has_country_flag = coalition_social_democrat
				NOT = { has_country_flag = government_social_democrat }
			}
			party10_click_enabled = {
				progressive > 0.00
			}
			party10_title_click_enabled = {
				progressive > 0.00
			}
			party10_visible = {
				NOT = { has_country_flag = government_progressive }
			}
			party10_title_visible = {
				NOT = { has_country_flag = government_progressive }
			}
			party10_accept_visible = {
				has_country_flag = coalition_progressive
				NOT = { has_country_flag = government_progressive }
			}
			party11_click_enabled = {
				socialist > 0.00
			}
			party11_title_click_enabled = {
				socialist > 0.00
			}
			party11_visible = {
				NOT = { has_country_flag = government_socialist }
			}
			party11_title_visible = {
				NOT = { has_country_flag = government_socialist }
			}
			party11_accept_visible = {
				has_country_flag = coalition_socialist
				NOT = { has_country_flag = government_socialist }
			}
			party12_click_enabled = {
				communist > 0.00
			}
			party12_title_click_enabled = {
				communist > 0.00
			}
			party12_visible = {
				NOT = { has_country_flag = government_communist }
			}
			party12_title_visible = {
				NOT = { has_country_flag = government_communist }
			}
			party12_accept_visible = {
				has_country_flag = coalition_communist
				NOT = { has_country_flag = government_communist }
			}
			finish_click_enabled = {
				has_at_least_two_coalition_flags = yes
			}		
        }
		properties = {
			party1_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party2_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party3_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party4_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party5_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party6_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party7_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party8_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party9_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party10_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party11_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
			party12_accept = {
				image = GFX_accept_decline_icon
				frame = 2
			}
		}
	}
}