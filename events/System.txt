add_namespace = system

country_event = {
	id = system.1
	hidden=yes

	is_triggered_only = yes
	
	immediate = {
		set_parliament_graphics = yes
		if = {
			limit = {
				has_idea = federal
			}
			gubernatorial_elections = yes
		}
		if = {
			limit = {
				has_country_flag = has_parliament
				minority_government = yes
			}
			add_ideas = minority_government
		}
		if = {
			limit = {
				NOT = { coalition_partners_are_neighbors_outside_gui = yes }
				NOT = { has_idea = absolute_monarchy }
			}
			add_ideas = unstable_coalition
		}
	}
}

country_event = {
	id = system.2
	hidden=yes

	trigger = {
		NOT = { 
			any_country = {
				has_idea = idea_benelux_union_member
			}
		}
	}

	fire_only_once = yes
	
	immediate = {
		set_global_flag = benelux_union_dissolved
	}
}

country_event = {
	id = system.4
	hidden=yes

	trigger = {
		NOT = { 
			any_country = {
				has_idea = arab_league_member
			}
		}
	}

	fire_only_once = yes
	
	immediate = {
		set_global_flag = arab_league_dissolved
	}
}

country_event = {
	id = system.5
	hidden=yes

	trigger = {
		original_tag = PSE
		country_exists = HAM
		has_government = islamist
	}

	fire_only_once = yes
	
	immediate = {
		annex_country = { target = HAM transfer_troops = yes }
	}
}

country_event = {
	id = system.6
	hidden=yes

	trigger = {
		NOT = { 
			any_country = {
				has_idea = shanghai_cooperation_organization_member
			}
		}
	}

	fire_only_once = yes
	
	immediate = {
		set_global_flag = shanghai_cooperation_organization_dissolved
	}
}

country_event = {
	id = system.7
	hidden=yes

	trigger = {
		NOT = { 
			any_country = {
				has_idea = asean_member
			}
		}
	}

	fire_only_once = yes
	
	immediate = {
		set_global_flag = asean_dissolved
	}
}

country_event = {
	id = system.8
	hidden=yes

	trigger = {
		NOT = { 
			country_exists = ISS
		}
	}

	fire_only_once = yes
	
	immediate = {
		news_event = isis.1
		set_global_flag = isis_defeated
		every_state = {
			limit = {
				OR = {
					is_core_of = ISS
					is_claimed_by = ISS
				}
			}
			remove_core_of = ISS
			remove_claim_by = ISS
		}
	}
}

country_event = {
	id = system.9
	hidden=yes

	trigger = {
		NOT = { has_global_flag = syrian_civil_war_over }
		country_exists = SYR
		NOT = { country_exists = FSA }
	}

	fire_only_once = yes
	
	immediate = {
		news_event = syria.1
		set_global_flag = syrian_civil_war_over
		every_state = {
			limit = {
				OR = {
					is_core_of = FSA
					is_claimed_by = FSA
				}
			}
			remove_core_of = FSA
			remove_claim_by = FSA
		}
	}
}

country_event = {
	id = system.10
	hidden=yes

	trigger = {
		NOT = { has_global_flag = syrian_civil_war_over }
		country_exists = FSA
		NOT = { country_exists = SYR }
	}

	fire_only_once = yes
	
	immediate = {
		news_event = syria.2
		set_global_flag = syrian_civil_war_over
		FSA = {
			add_ideas = one_party_state
			set_cosmetic_tag = FSA_GOV 
		}
	}
}

country_event = {
	id = system.13
	hidden=yes

	trigger = {
		country_exists = PRK
		NOT = { country_exists = KOR }
	}

	fire_only_once = yes
	
	immediate = {
		every_state = {
			limit = {
				is_core_of = KOR
			}
			remove_core_of = KOR
		}
	}
}

country_event = {
	id = system.14
	hidden=yes

	trigger = {
		country_exists = KOR
		NOT = { country_exists = PRK }
	}

	fire_only_once = yes
	
	immediate = {
		every_state = {
			limit = {
				is_core_of = PRK
			}
			remove_core_of = PRK
		}
	}
}

country_event = {
	id = system.15
	hidden=yes

	trigger = {
		NOT = { 
			any_country = {
				has_idea = idea_baltic_assembly_member
			}
		}
	}

	fire_only_once = yes
	
	immediate = {
		set_global_flag = baltic_assembly_dissolved
	}
}

country_event = {
	id = system.16
	hidden=yes

	trigger = {
		NOT = { 
			any_country = {
				has_idea = idea_east_african_community_member
			}
		}
	}

	fire_only_once = yes
	
	immediate = {
		set_global_flag = east_african_community_dissolved
	}
}

country_event = {
	id = system.17
	hidden=yes

	trigger = {
		NOT = { 
			any_country = {
				has_idea = guam_member
			}
		}
	}

	fire_only_once = yes
	
	immediate = {
		set_global_flag = guam_dissolved
	}
}

country_event = {
	id = system.18
	hidden=yes

	trigger = {
		NOT = { 
			any_country = {
				has_idea = commonwealth_of_independent_states_member
			}
		}
	}

	fire_only_once = yes
	
	immediate = {
		set_global_flag = commonwealth_of_independent_states_dissolved
	}
}

country_event = {
	id = system.19
	hidden=yes

	trigger = {
		NOT = { 
			any_country = {
				has_idea = gulf_cooperation_council_member
			}
		}
	}

	fire_only_once = yes
	
	immediate = {
		set_global_flag = gulf_cooperation_council_dissolved
	}
}

country_event = {
	id = system.20
	hidden=yes

	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				NOT = { has_country_flag = islamist_intended_no_leader }
				ROOT = {
					any_character = {
						has_ideology = islamist_independent
					}
				}
			}
			set_party_name = { 
				ideology = islamist
				long_name = "Islamist Independents"
				name = "Ind."
			}
			else = {
				set_country_flag = has_islamist_party
			}
		}
		if = {
			limit = {
				NOT = { has_country_flag = fascist_intended_no_leader }
				ROOT = {
					any_character = {
						has_ideology = fascist_independent
					}
				}
			}
			set_party_name = { 
				ideology = fascist
				long_name = "Fascist Independents"
				name = "Ind."
			}
			else = {
				set_country_flag = has_fascist_party
			}
		}
		if = {
			limit = {
				NOT = { has_country_flag = right_wing_populist_intended_no_leader }
				ROOT = {
					any_character = {
						has_ideology = right_wing_populist_independent
					}
				}
			}
			set_party_name = { 
				ideology = right_wing_populist
				long_name = "Right-Wing Populist Independents"
				name = "Ind."
			}
			else = {
				set_country_flag = has_right_wing_populist_party
			}
		}
		if = {
			limit = {
				NOT = { has_country_flag = monarchist_intended_no_leader }
				ROOT = {
					any_character = {
						has_ideology = monarchist_independent
					}
				}
			}
			set_party_name = { 
				ideology = monarchist
				long_name = "Monarchist Independents"
				name = "Ind."
			}
			else = {
				set_country_flag = has_monarchist_party
			}
		}
		if = {
			limit = {
				NOT = { has_country_flag = national_conservative_intended_no_leader }
				ROOT = {
					any_character = {
						has_ideology = national_conservative_independent
					}
				}
			}
			set_party_name = { 
				ideology = national_conservative
				long_name = "National Conservative Independents"
				name = "Ind."
			}
			else = {
				set_country_flag = has_national_conservative_party
			}
		}
		if = {
			limit = {
				NOT = { has_country_flag = conservative_intended_no_leader }
				ROOT = {
					any_character = {
						has_ideology = conservative_independent
					}
				}
			}
			set_party_name = { 
				ideology = conservative
				long_name = "Conservative Independents"
				name = "Ind."
			}
			else = {
				set_country_flag = has_conservative_party
			}
		}
		if = {
			limit = {
				NOT = { has_country_flag = classical_liberal_intended_no_leader }
				ROOT = {
					any_character = {
						has_ideology = classical_liberal_independent
					}
				}
			}
			set_party_name = { 
				ideology = classical_liberal
				long_name = "Classical Liberal Independents"
				name = "Ind."
			}
			else = {
				set_country_flag = has_classical_liberal_party
			}
		}
		if = {
			limit = {
				NOT = { has_country_flag = social_liberal_intended_no_leader }
				ROOT = {
					any_character = {
						has_ideology = social_liberal_independent
					}
				}
			}
			set_party_name = { 
				ideology = social_liberal
				long_name = "Social Liberal Independents"
				name = "Ind."
			}
			else = {
				set_country_flag = has_social_liberal_party
			}
		}
		if = {
			limit = {
				NOT = { has_country_flag = social_democrat_intended_no_leader }
				ROOT = {
					any_character = {
						has_ideology = social_democrat_independent
					}
				}
			}
			set_party_name = { 
				ideology = social_democrat
				long_name = "Social Democrat Independents"
				name = "Ind."
			}
			else = {
				set_country_flag = has_social_democrat_party
			}
		}
		if = {
			limit = {
				NOT = { has_country_flag = progressive_intended_no_leader }
				ROOT = {
					any_character = {
						has_ideology = progressive_independent
					}
				}
			}
			set_party_name = { 
				ideology = progressive
				long_name = "Progressive Independents"
				name = "Ind."
			}
			else = {
				set_country_flag = has_progressive_party
			}
		}
		if = {
			limit = {
				NOT = { has_country_flag = socialist_intended_no_leader }
				ROOT = {
					any_character = {
						has_ideology = socialist_independent
					}
				}
			}
			set_party_name = { 
				ideology = socialist
				long_name = "Socialist Independents"
				name = "Ind."
			}
			else = {
				set_country_flag = has_socialist_party
			}
		}
		if = {
			limit = {
				NOT = { has_country_flag = communist_intended_no_leader }
				ROOT = {
					any_character = {
						has_ideology = communist_independent
					}
				}
			}
			set_party_name = { 
				ideology = communist
				long_name = "Communist Independents"
				name = "Ind."
			}
			else = {
				set_country_flag = has_communist_party
			}
		}
	}
}

country_event = { ### Monthly On-action
	id = system.21
	hidden=yes

	is_triggered_only = yes
	
	immediate = {
		### Motion of No Confidence - 5% chance every month if conditions true
		if = {
			limit = {
				has_idea = minority_government
				has_idea = parliamentary_system
				has_stability < 0.25
				has_war = no
				NOT = {
					has_country_flag = snap_election_in_progress
					check_variable = {
						var = party_popularity@ruling_party
						value = 50
						compare = greater_than_or_equals
					}
				}
			}
			random = {
				chance = 5
				country_event = politics.11
			}
		}
		### Randomizer - Adds 1% to random party
		random_list = {
			5 = {
				if = {
					limit = {
						OR = {
							has_country_flag = sunni_islam
							has_country_flag = shia_islam
						}
						OR = { 	
							has_country_flag = has_islamist_party
							AND = {
								has_idea = idea_nonpartisan_political_system
								islamist > 0.001
							}
						}
					}
					add_popularity = { 
						ideology = islamist
						popularity = 0.01 
					}
				}
			}
			5 = {
				if = {
					limit = {
						OR = { 	
							has_country_flag = has_fascist_party
							AND = {
								has_idea = idea_nonpartisan_political_system
								fascist > 0.001
							}
						}
					}
					add_popularity = { 
						ideology = fascist
						popularity = 0.01 
					}
				}
			}
			5 = {
				if = {
					limit = {
						OR = { 	
							has_country_flag = has_right_wing_populist_party
							AND = {
								has_idea = idea_nonpartisan_political_system
								right_wing_populist > 0.001
							}
						}
					}
					add_popularity = { 
						ideology = right_wing_populist
						popularity = 0.01 
					}
				}
			}
			5 = {
				if = {
					limit = {
						OR = { 	
							has_country_flag = has_monarchist_party
							AND = {
								has_idea = idea_nonpartisan_political_system
								monarchist > 0.001
							}
						}
					}
					add_popularity = { 
						ideology = monarchist
						popularity = 0.01 
					}
				}
			}
			5 = {
				if = {
					limit = {
						OR = { 	
							has_country_flag = has_national_conservative_party
							AND = {
								has_idea = idea_nonpartisan_political_system
								national_conservative > 0.001
							}
						}
					}
					add_popularity = { 
						ideology = national_conservative
						popularity = 0.01 
					}
				}
			}
			5 = {
				if = {
					limit = {
						OR = { 	
							has_country_flag = has_conservative_party
							AND = {
								has_idea = idea_nonpartisan_political_system
								conservative > 0.001
							}
						}
					}
					add_popularity = { 
						ideology = conservative
						popularity = 0.01 
					}
				}
			}
			5 = {
				if = {
					limit = {
						OR = { 	
							has_country_flag = has_classical_liberal_party
							AND = {
								has_idea = idea_nonpartisan_political_system
								classical_liberal > 0.001
							}
						}
					}
					add_popularity = { 
						ideology = classical_liberal
						popularity = 0.01 
					}
				}
			}
			5 = {
				if = {
					limit = {
						OR = { 	
							has_country_flag = has_social_liberal_party
							AND = {
								has_idea = idea_nonpartisan_political_system
								social_liberal > 0.001
							}
						}
					}
					add_popularity = { 
						ideology = social_liberal
						popularity = 0.01 
					}
				}
			}
			5 = {
				if = {
					limit = {
						OR = { 	
							has_country_flag = has_social_democrat_party
							AND = {
								has_idea = idea_nonpartisan_political_system
								social_democrat > 0.001
							}
						}
					}
					add_popularity = { 
						ideology = social_democrat
						popularity = 0.01 
					}
				}
			}
			5 = {
				if = {
					limit = {
						OR = { 	
							has_country_flag = has_progressive_party
							AND = {
								has_idea = idea_nonpartisan_political_system
								progressive > 0.001
							}
						}
					}
					add_popularity = { 
						ideology = progressive
						popularity = 0.01 
					}
				}
			}
			5 = {
				if = {
					limit = {
						OR = { 	
							has_country_flag = has_socialist_party
							AND = {
								has_idea = idea_nonpartisan_political_system
								socialist > 0.001
							}
						}
					}
					add_popularity = { 
						ideology = socialist
						popularity = 0.01 
					}
				}
			}
			5 = {
				if = {
					limit = {
						OR = { 	
							has_country_flag = has_communist_party
							AND = {
								has_idea = idea_nonpartisan_political_system
								communist > 0.001
							}
						}
					}
					add_popularity = { 
						ideology = communist
						popularity = 0.01 
					}
				}
			}
			40 = {
				# Needs to be 100 in total
			}
		}
		### Balancer - Removes 1% from all over 60%, 3% from all over 80%
		if = {
			limit = {
				islamist > 0.8
			}
			add_popularity = { 
				ideology = islamist
				popularity = -0.02
			}
		}
		if = {
			limit = {
				fascist > 0.8
			}
			add_popularity = { 
				ideology = fascist
				popularity = -0.02
			}
		}
		if = {
			limit = {
				right_wing_populist > 0.8
			}
			add_popularity = { 
				ideology = right_wing_populist
				popularity = -0.02
			}
		}
		if = {
			limit = {
				monarchist > 0.8
			}
			add_popularity = { 
				ideology = monarchist
				popularity = -0.02
			}
		}
		if = {
			limit = {
				national_conservative > 0.8
			}
			add_popularity = { 
				ideology = national_conservative
				popularity = -0.02
			}
		}
		if = {
			limit = {
				conservative > 0.8
			}
			add_popularity = { 
				ideology = conservative
				popularity = -0.02
			}
		}
		if = {
			limit = {
				classical_liberal > 0.8
			}
			add_popularity = { 
				ideology = classical_liberal
				popularity = -0.02
			}
		}
		if = {
			limit = {
				social_liberal > 0.8
			}
			add_popularity = { 
				ideology = social_liberal
				popularity = -0.02
			}
		}
		if = {
			limit = {
				social_democrat > 0.8
			}
			add_popularity = { 
				ideology = social_democrat
				popularity = -0.02
			}
		}
		if = {
			limit = {
				progressive > 0.8
			}
			add_popularity = { 
				ideology = progressive
				popularity = -0.02
			}
		}
		if = {
			limit = {
				socialist > 0.8
			}
			add_popularity = { 
				ideology = socialist
				popularity = -0.02
			}
		}
		if = {
			limit = {
				communist > 0.8
			}
			add_popularity = { 
				ideology = communist
				popularity = -0.02
			}
		}
		if = {
			limit = {
				islamist > 0.6
			}
			add_popularity = { 
				ideology = islamist
				popularity = -0.01
			}
		}
		if = {
			limit = {
				fascist > 0.6
			}
			add_popularity = { 
				ideology = fascist
				popularity = -0.01 
			}
		}
		if = {
			limit = {
				right_wing_populist > 0.6
			}
			add_popularity = { 
				ideology = right_wing_populist
				popularity = -0.01 
			}
		}
		if = {
			limit = {
				monarchist > 0.6
			}
			add_popularity = { 
				ideology = monarchist
				popularity = -0.01 
			}
		}
		if = {
			limit = {
				national_conservative > 0.6
			}
			add_popularity = { 
				ideology = national_conservative
				popularity = -0.01 
			}
		}
		if = {
			limit = {
				conservative > 0.6
			}
			add_popularity = { 
				ideology = conservative
				popularity = -0.01 
			}
		}
		if = {
			limit = {
				classical_liberal > 0.6
			}
			add_popularity = { 
				ideology = classical_liberal
				popularity = -0.01 
			}
		}
		if = {
			limit = {
				social_liberal > 0.6
			}
			add_popularity = { 
				ideology = social_liberal
				popularity = -0.01 
			}
		}
		if = {
			limit = {
				social_democrat > 0.6
			}
			add_popularity = { 
				ideology = social_democrat
				popularity = -0.01 
			}
		}
		if = {
			limit = {
				progressive > 0.6
			}
			add_popularity = { 
				ideology = progressive
				popularity = -0.01 
			}
		}
		if = {
			limit = {
				socialist > 0.6
			}
			add_popularity = { 
				ideology = socialist
				popularity = -0.01 
			}
		}
		if = {
			limit = {
				communist > 0.6
			}
			add_popularity = { 
				ideology = communist
				popularity = -0.01 
			}
		}
		### Satisfaction - Adds/removes from government based on satisfaction
		if = {
			limit = {
				has_stability > 0.75
			}
			if = {
				limit = {
					has_country_flag = coalition_islamist
				}
				add_popularity = { 
					ideology = islamist
					popularity = 0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_fascist
				}
				add_popularity = { 
					ideology = fascist
					popularity = 0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_right_wing_populist
				}
				add_popularity = { 
					ideology = right_wing_populist
					popularity = 0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_monarchist
				}
				add_popularity = { 
					ideology = monarchist
					popularity = 0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_national_conservative
				}
				add_popularity = { 
					ideology = national_conservative
					popularity = 0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_conservative
				}
				add_popularity = { 
					ideology = conservative
					popularity = 0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_classical_liberal
				}
				add_popularity = { 
					ideology = classical_liberal
					popularity = 0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_social_liberal
				}
				add_popularity = { 
					ideology = social_liberal
					popularity = 0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_social_democrat
				}
				add_popularity = { 
					ideology = social_democrat
					popularity = 0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_progressive
				}
				add_popularity = { 
					ideology = progressive
					popularity = 0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_socialist
				}
				add_popularity = { 
					ideology = socialist
					popularity = 0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_communist
				}
				add_popularity = { 
					ideology = communist
					popularity = 0.02
				}
			}
		}
		if = {
			limit = {
				has_stability > 0.5
				NOT = { has_stability > 0.75 }
			}
			if = {
				limit = {
					has_country_flag = coalition_islamist
				}
				add_popularity = { 
					ideology = islamist
					popularity = 0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_fascist
				}
				add_popularity = { 
					ideology = fascist
					popularity = 0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_right_wing_populist
				}
				add_popularity = { 
					ideology = right_wing_populist
					popularity = 0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_monarchist
				}
				add_popularity = { 
					ideology = monarchist
					popularity = 0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_national_conservative
				}
				add_popularity = { 
					ideology = national_conservative
					popularity = 0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_conservative
				}
				add_popularity = { 
					ideology = conservative
					popularity = 0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_classical_liberal
				}
				add_popularity = { 
					ideology = classical_liberal
					popularity = 0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_social_liberal
				}
				add_popularity = { 
					ideology = social_liberal
					popularity = 0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_social_democrat
				}
				add_popularity = { 
					ideology = social_democrat
					popularity = 0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_progressive
				}
				add_popularity = { 
					ideology = progressive
					popularity = 0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_socialist
				}
				add_popularity = { 
					ideology = socialist
					popularity = 0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_communist
				}
				add_popularity = { 
					ideology = communist
					popularity = 0.01 
				}
			}
		}
		if = {
			limit = {
				has_stability < 0.5
				NOT = { has_stability < 0.25 }
			}
			if = {
				limit = {
					has_country_flag = coalition_islamist
				}
				add_popularity = { 
					ideology = islamist
					popularity = -0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_fascist
				}
				add_popularity = { 
					ideology = fascist
					popularity = -0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_right_wing_populist
				}
				add_popularity = { 
					ideology = right_wing_populist
					popularity = -0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_monarchist
				}
				add_popularity = { 
					ideology = monarchist
					popularity = -0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_national_conservative
				}
				add_popularity = { 
					ideology = national_conservative
					popularity = -0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_conservative
				}
				add_popularity = { 
					ideology = conservative
					popularity = -0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_classical_liberal
				}
				add_popularity = { 
					ideology = classical_liberal
					popularity = -0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_social_liberal
				}
				add_popularity = { 
					ideology = social_liberal
					popularity = -0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_social_democrat
				}
				add_popularity = { 
					ideology = social_democrat
					popularity = -0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_progressive
				}
				add_popularity = { 
					ideology = progressive
					popularity = -0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_socialist
				}
				add_popularity = { 
					ideology = socialist
					popularity = -0.01 
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_communist
				}
				add_popularity = { 
					ideology = communist
					popularity = -0.01 
				}
			}
		}
		if = {
			limit = {
				has_stability < 0.25
			}
			if = {
				limit = {
					has_country_flag = coalition_islamist
				}
				add_popularity = { 
					ideology = islamist
					popularity = -0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_fascist
				}
				add_popularity = { 
					ideology = fascist
					popularity = -0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_right_wing_populist
				}
				add_popularity = { 
					ideology = right_wing_populist
					popularity = -0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_monarchist
				}
				add_popularity = { 
					ideology = monarchist
					popularity = -0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_national_conservative
				}
				add_popularity = { 
					ideology = national_conservative
					popularity = -0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_conservative
				}
				add_popularity = { 
					ideology = conservative
					popularity = -0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_classical_liberal
				}
				add_popularity = { 
					ideology = classical_liberal
					popularity = -0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_social_liberal
				}
				add_popularity = { 
					ideology = social_liberal
					popularity = -0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_social_democrat
				}
				add_popularity = { 
					ideology = social_democrat
					popularity = -0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_progressive
				}
				add_popularity = { 
					ideology = progressive
					popularity = -0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_socialist
				}
				add_popularity = { 
					ideology = socialist
					popularity = -0.02
				}
			}
			if = {
				limit = {
					has_country_flag = coalition_communist
				}
				add_popularity = { 
					ideology = communist
					popularity = -0.02
				}
			}
		}
		### State Categories
		every_state = {
			limit = {
				infrastructure < 1
				NOT = { 
					OR = {
						has_state_category = state_level_0
						has_state_category = state_nuclear_wasteland
					}
				}
			}
			set_state_category = state_level_0
		}
		every_state = {
			limit = {
				infrastructure > 0
				infrastructure < 2
				NOT = { 
					OR = {
						has_state_category = state_level_1 
						has_state_category = state_nuclear_wasteland
					}
				}
			}
			set_state_category = state_level_1
		}
		every_state = {
			limit = {
				infrastructure > 1
				infrastructure < 3
				NOT = { 
					OR = {
						has_state_category = state_level_2
						has_state_category = state_nuclear_wasteland
					}
				}
			}
			set_state_category = state_level_2
		}
		every_state = {
			limit = {
				infrastructure > 2
				infrastructure < 4
				NOT = { 
					OR = {
						has_state_category = state_level_3
						has_state_category = state_nuclear_wasteland
					}
				}
			}
			set_state_category = state_level_3
		}
		every_state = {
			limit = {
				infrastructure > 3
				infrastructure < 5
				NOT = { 
					OR = {
						has_state_category = state_level_4
						has_state_category = state_nuclear_wasteland
					}
				}
			}
			set_state_category = state_level_4
		}
		every_state = {
			limit = {
				infrastructure > 4
				NOT = { 
					OR = {
						has_state_category = state_level_5
						has_state_category = state_nuclear_wasteland
					}
				}
			}
			set_state_category = state_level_5
		}
	}
}

country_event = {
	id = system.22
	hidden=yes

	trigger = {
		NOT = { has_global_flag = south_sudanese_civil_war_over }
		country_exists = SSD
		NOT = { country_exists = SPO }
	}

	fire_only_once = yes
	
	immediate = {
		news_event = south_sudan.1
		set_global_flag = south_sudanese_civil_war_over
		every_state = {
			limit = {
				OR = {
					is_core_of = SPO
					is_claimed_by = SPO
				}
			}
			remove_core_of = SPO
			remove_claim_by = SPO
		}
	}
}

country_event = {
	id = system.23
	hidden=yes

	trigger = {
		NOT = { has_global_flag = yemeni_civil_war_over }
		country_exists = YEM
		NOT = { country_exists = HOU }
	}

	fire_only_once = yes
	
	immediate = {
		news_event = yemen.1
		set_global_flag = yemeni_civil_war_over
		YEM = {
			set_capital = { state = 293 }
		}
		every_state = {
			limit = {
				OR = {
					is_core_of = HOU
					is_claimed_by = HOU
				}
			}
			remove_core_of = HOU
			remove_claim_by = HOU
		}
	}
}

country_event = {
	id = system.24
	hidden=yes

	trigger = {
		NOT = { has_global_flag = yemeni_civil_war_over }
		country_exists = HOU
		NOT = { country_exists = YEM }
	}

	fire_only_once = yes
	
	immediate = {
		news_event = yemen.2
		set_global_flag = yemeni_civil_war_over
		HOU = {
			add_ideas = one_party_state
			set_cosmetic_tag = YEM
		}
		every_state = {
			limit = {
				OR = {
					is_core_of = YEM
					is_claimed_by = YEM
				}
			}
			remove_core_of = YEM
			remove_claim_by = YEM
		}
	}
}

country_event = {
	id = system.25
	hidden=yes

	trigger = {
		NOT = { 
			any_country = {
				has_idea = idea_european_union_member
			}
		}
	}

	fire_only_once = yes
	
	immediate = {
		set_global_flag = european_union_dissolved
	}
}

country_event = {
	id = system.26
	hidden=yes

	trigger = {
		NOT = { has_global_flag = south_sudanese_civil_war_over }
		country_exists = SPO
		NOT = { country_exists = SSD }
	}

	fire_only_once = yes
	
	immediate = {
		news_event = south_sudan.2
		set_global_flag = south_sudanese_civil_war_over
		SPO = {
			add_ideas = one_party_state
			set_cosmetic_tag = SSD
			set_capital = { state = 762 }
		}
		every_state = {
			limit = {
				OR = {
					is_core_of = SSD
					is_claimed_by = SSD
				}
			}
			remove_core_of = SSD
			remove_claim_by = SSD
		}
	}
}

country_event = {
	id = system.27
	hidden=yes

	trigger = {
		is_constitutional_monarchy = no
		has_constitutional_monarchy_cosmetic_tag = yes
	}

	mean_time_to_happen = {
		days = 1
	}

	fire_only_once = yes
	
	immediate = {
		drop_cosmetic_tag = Yes
	}
}

country_event = {
	id = system.28
	hidden=yes

	is_triggered_only = yes
	
	immediate = {
		OVERLORD = {
			annex_country = {
				target = ROOT
				transfer_troops = yes
			}
		}
	}
}

country_event = {
	id = system.29
	hidden=yes

	trigger = {
		OR = {
			NOT = {
				country_exists = ENG
			}
			NOT = { 
				any_country = {
					has_idea = idea_commonwealth_of_nations_member
				}
			}
		}
	}

	fire_only_once = yes
	
	immediate = {
		set_global_flag = commonwealth_of_nations_dissolved
	}
}


country_event = {
	id = system.30
	hidden=yes

	trigger = {
		NOT = { has_global_flag = libyan_civil_war_over }
		country_exists = LBY
		NOT = { country_exists = LNA }
	}

	fire_only_once = yes
	
	immediate = {
		news_event = libya.1
		set_global_flag = libyan_civil_war_over
		every_state = {
			limit = {
				OR = {
					is_core_of = LNA
					is_claimed_by = LNA
				}
			}
			remove_core_of = LNA
			remove_claim_by = LNA
		}
	}
}

country_event = {
	id = system.31
	hidden=yes

	trigger = {
		NOT = { has_global_flag = libyan_civil_war_over }
		country_exists = LNA
		NOT = { country_exists = LBY }
	}

	fire_only_once = yes
	
	immediate = {
		news_event = libya.2
		set_global_flag = libyan_civil_war_over
		LNA = {
			add_ideas = one_party_state
			set_cosmetic_tag = LBY
			set_capital = { state = 448 }
		}
		every_state = {
			limit = {
				OR = {
					is_core_of = LBY
					is_claimed_by = LBY
				}
			}
			remove_core_of = LBY
			remove_claim_by = LBY
		}
	}
}

country_event = {
	id = system.32
	hidden=yes

	trigger = {
		NOT = {
			AND = {
				ENG = {
					exists = yes
					OR = {
						is_constitutional_monarchy = yes
						has_government = monarchist
					}
				}
			}
		}
	}

	fire_only_once = yes
	
	immediate = {
		every_country = {
			limit = {
				has_idea = idea_commonwealth_realm
			}
			remove_ideas = idea_commonwealth_realm
			drop_cosmetic_tag = yes
		}
	}
}

country_event = {
	id = system.33
	hidden=yes

	trigger = {
		is_subject = no
		OR = {
			has_country_leader_with_trait = subject_pro_integration
			has_country_leader_with_trait = subject_pro_autonomy
		}
	}

	mean_time_to_happen = {
		days = 2
	}
	
	immediate = {
		remove_country_leader_trait = subject_pro_integration
		remove_country_leader_trait = subject_pro_autonomy
	}
}

country_event = {
	id = system.34
	hidden=yes

	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_idea = idea_constitution_of_the_united_states
				has_idea = presidential_republic
			}
			country_event = election.6
			country_event = {
				id = system.34
				days = 1460
			}
		}
	}
}